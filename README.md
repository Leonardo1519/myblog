# æˆ‘çš„åšå®¢ - ä¸ªäººåšå®¢ç½‘ç«™ ğŸš€

è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ [Next.js](https://nextjs.org) æ„å»ºçš„ä¸ªäººåšå®¢ç½‘ç«™ï¼Œé›†æˆäº†æ–‡ç« å±•ç¤ºã€æœç´¢åŠŸèƒ½å’ŒéŸ³ä¹æ’­æ”¾ç­‰ç‰¹æ€§ã€‚

## ğŸ“Œ é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ Next.js æ¡†æ¶æ„å»ºçš„ä¸ªäººåšå®¢ç½‘ç«™ï¼Œæ”¯æŒæ–‡ç« å±•ç¤ºã€æœç´¢åŠŸèƒ½å’ŒéŸ³ä¹æ’­æ”¾åŠŸèƒ½ã€‚ç½‘ç«™ä½¿ç”¨äº†ç°ä»£çš„ React æŠ€æœ¯å’Œç¾è§‚çš„ UI è®¾è®¡ã€‚

## ğŸ—ï¸ æ•´ä½“æ¶æ„

è¿™ä¸ªåšå®¢ç³»ç»Ÿé‡‡ç”¨äº†ç°ä»£çš„æŠ€æœ¯æ ˆï¼š

- **Next.js 15** - Reactæ¡†æ¶ï¼Œæä¾›è·¯ç”±ã€æœåŠ¡ç«¯æ¸²æŸ“ç­‰åŠŸèƒ½ ğŸ”„
- **React 19** - ç”¨æˆ·ç•Œé¢åº“ ğŸ’™
- **TypeScript** - ç±»å‹å®‰å…¨çš„JavaScriptè¶…é›† ğŸ”’
- **Tailwind CSS** - ç”¨äºæ ·å¼è®¾è®¡çš„å·¥å…·ç±»CSSæ¡†æ¶ ğŸ¨
- **ç°è‰²ç‰©è´¨(gray-matter)** - è§£æmarkdownæ–‡ä»¶çš„å‰ç½®å…ƒæ•°æ® ğŸ“„

## ğŸ“‚ æ–‡ä»¶ç»“æ„

1. **app ç›®å½•** - Next.js çš„ä¸»è¦åº”ç”¨ç›®å½•
   - **components/** - åŒ…å«æ‰€æœ‰å¯å¤ç”¨ç»„ä»¶
   - **lib/** - åŒ…å«å·¥å…·å‡½æ•°
   - **api/** - åŒ…å«æ‰€æœ‰APIè·¯ç”±
   - **posts/** - æ–‡ç« é¡µé¢
   - **search/** - æœç´¢é¡µé¢

2. **Markdowns ç›®å½•** - å­˜æ”¾æ‰€æœ‰çš„åšå®¢æ–‡ç« å†…å®¹ï¼ˆMDæ ¼å¼ï¼‰

## ğŸ” ä¸»è¦åŠŸèƒ½

### 1ï¸âƒ£ æ–‡ç« ç®¡ç† ğŸ“
- æ–‡ç« ä»¥ Markdown æ ¼å¼å­˜å‚¨åœ¨ `Markdowns` ç›®å½•ä¸­
- ä½¿ç”¨ `gray-matter` è§£æ Markdown æ–‡ä»¶çš„å…ƒæ•°æ®ï¼ˆæ ‡é¢˜ã€æ—¥æœŸã€æ ‡ç­¾ç­‰ï¼‰
- ä½¿ç”¨ `remark` å’Œç›¸å…³æ’ä»¶å°† Markdown è½¬æ¢ä¸º HTML æ˜¾ç¤º

### 2ï¸âƒ£ é¦–é¡µå±•ç¤º ğŸ 
- å±•ç¤ºä¸ªäººèµ„æ–™å¡ç‰‡å’Œæœ€æ–°æ–‡ç« åˆ—è¡¨
- é€šè¿‡ API è·å–æ‰€æœ‰æ–‡ç« çš„å…ƒæ•°æ®
- æŒ‰æ—¥æœŸæ’åºå±•ç¤ºæ–‡ç« åˆ—è¡¨

å½“ç”¨æˆ·è®¿é—®é¦–é¡µæ—¶ï¼š
```
æµè§ˆå™¨ -> åŠ è½½é¦–é¡µç»„ä»¶ -> è°ƒç”¨APIè·å–æ–‡ç« åˆ—è¡¨ -> æ¸²æŸ“æ–‡ç« å¡ç‰‡
```

ä»£ç ç”¨`useEffect`é’©å­åœ¨é¡µé¢åŠ è½½åè‡ªåŠ¨è·å–æ–‡ç« åˆ—è¡¨ï¼š
```javascript
useEffect(() => {
  async function fetchPosts() {
    // ä» /api/posts è·å–æ–‡ç« åˆ—è¡¨
  }
  fetchPosts();
}, []);
```

### 3ï¸âƒ£ æ–‡ç« é¡µé¢ ğŸ“„
- åŠ¨æ€è·¯ç”±æ ¹æ®æ–‡ç« IDæ˜¾ç¤ºå¯¹åº”æ–‡ç« 
- æ˜¾ç¤ºæ–‡ç« æ ‡é¢˜ã€æ—¥æœŸã€æ ‡ç­¾å’Œæµè§ˆé‡
- æ”¯æŒè¿”å›é¦–é¡µçš„å¯¼èˆª

å½“ç”¨æˆ·ç‚¹å‡»æ–‡ç« å¡ç‰‡æ—¶ï¼Œä¼šè¿›å…¥æ–‡ç« è¯¦æƒ…é¡µï¼š

1. **è·å–æ–‡ç« å†…å®¹** ğŸ“¥
   ```javascript
   const response = await fetch(`/api/posts/${id}`);
   ```

2. **æ›´æ–°æµè§ˆé‡** ğŸ‘ï¸
   ```javascript
   const response = await fetch(`/api/views/${id}`, {
     method: 'POST',
   });
   ```

3. **æ˜¾ç¤ºæ–‡ç« å†…å®¹** ğŸ“°
   ```javascript
   <div dangerouslySetInnerHTML={{ __html: post.content }} />
   ```

### 4ï¸âƒ£ æœç´¢åŠŸèƒ½ ğŸ”
- æ”¯æŒé€šè¿‡å…³é”®è¯æœç´¢æ–‡ç« 
- æœç´¢ç»“æœä»¥å¡ç‰‡å½¢å¼å±•ç¤º
- å®æ—¶æ˜¾ç¤ºæœç´¢ç»“æœæ•°é‡

### 5ï¸âƒ£ éŸ³ä¹æ’­æ”¾å™¨ ğŸµ
- ä½äºé¡µé¢å³ä¸‹è§’çš„æµ®åŠ¨éŸ³ä¹æ’­æ”¾å™¨
- æ”¯æŒæ’­æ”¾/æš‚åœã€éŸ³é‡è°ƒèŠ‚å’Œé™éŸ³åŠŸèƒ½
- åŒå‡»éŸ³ä¹å›¾æ ‡å¯ä»¥å±•å¼€/æ”¶èµ·æ›´å¤šæ§åˆ¶é€‰é¡¹

### 6ï¸âƒ£ å“åº”å¼è®¾è®¡ ğŸ“±
- é€‚é…ä¸åŒå±å¹•å°ºå¯¸ï¼ˆæ‰‹æœºã€å¹³æ¿ã€ç”µè„‘ï¼‰
- ç§»åŠ¨è®¾å¤‡ä¸Šæœ‰ç‰¹æ®Šçš„èœå•æ˜¾ç¤ºæ–¹å¼
- ä½¿ç”¨ Tailwind CSS å®ç°å“åº”å¼å¸ƒå±€

### 7ï¸âƒ£ API æ¥å£ ğŸ”Œ
- `/api/posts` - è·å–æ‰€æœ‰æ–‡ç« åˆ—è¡¨
- `/api/posts/[id]` - è·å–æŒ‡å®šIDçš„æ–‡ç« å†…å®¹
- `/api/search` - æœç´¢æ–‡ç« 
- `/api/views/[id]` - æ›´æ–°æ–‡ç« æµè§ˆé‡

## ğŸŒŠ ä¸»è¦é€»è¾‘æµç¨‹

### åšå®¢æ–‡ç« è·å– (app/lib/markdown.ts) ğŸ“š

è¿™æ˜¯æ•´ä¸ªåšå®¢çš„æ ¸å¿ƒåŠŸèƒ½ï¼å®ƒè´Ÿè´£ï¼š

1. **è¯»å–Markdownæ–‡ä»¶** ğŸ“–
   ```javascript
   const markdownsDirectory = path.join(process.cwd(), 'Markdowns');
   ```

2. **è§£ææ–‡ç« å…ƒæ•°æ®** ğŸ”
   ```javascript
   const matterResult = matter(fileContents);
   ```
   > è¿™é‡Œä½¿ç”¨äº†`gray-matter`åº“ï¼Œå®ƒèƒ½ä»markdownæ–‡ä»¶å¼€å¤´æå–YAMLæ ¼å¼çš„å…ƒæ•°æ®ï¼Œæ¯”å¦‚æ ‡é¢˜ã€æ—¥æœŸç­‰

3. **è½¬æ¢Markdownä¸ºHTML** âœ¨
   ```javascript
   const processedContent = await remark()
     .use(remarkRehype)
     .use(rehypeRaw)
     .use(rehypeStringify)
     .process(matterResult.content);
   ```

æ‰€æœ‰æ–‡ç« æ’åºåæ˜¾ç¤ºåœ¨é¦–é¡µï¼Œæœ€æ–°çš„æ–‡ç« æ’åœ¨æœ€å‰é¢ï¼š
```javascript
return allPostsData.sort((a, b) => {
  if (a.date < b.date) {
    return 1;
  } else {
    return -1;
  }
});
```

### ä¸ªæ€§åŒ–ç»„ä»¶ ğŸ§©

1. **ä¸ªäººèµ„æ–™å¡ç‰‡** (ProfileCard.tsx) ğŸ‘¤
   å±•ç¤ºä½œè€…ä¿¡æ¯ã€ç¤¾äº¤åª’ä½“é“¾æ¥ç­‰

2. **æ–‡ç« å¡ç‰‡** (PostCard.tsx) ğŸƒ
   å±•ç¤ºæ–‡ç« æ‘˜è¦ã€å‘å¸ƒæ—¥æœŸã€æ ‡ç­¾ç­‰

3. **éŸ³ä¹æ’­æ”¾å™¨** (MusicPlayer.tsx) ğŸµ
   é¡µé¢è¿˜é›†æˆäº†éŸ³ä¹æ’­æ”¾å™¨åŠŸèƒ½

## ğŸ› ï¸ æŠ€æœ¯æ ˆ
- **å‰ç«¯æ¡†æ¶**: Next.js (React)
- **æ ·å¼**: Tailwind CSS
- **å›¾æ ‡**: React Icons
- **Markdownå¤„ç†**: gray-matter, remark
- **éŸ³ä¹æ’­æ”¾**: use-sound
- **ç±»å‹ç³»ç»Ÿ**: TypeScript

## âœ¨ æŠ€æœ¯äº®ç‚¹

1. **Next.js API Routes** ğŸ”Œ
   - ä½¿ç”¨Next.jsçš„APIè·¯ç”±åŠŸèƒ½åˆ›å»ºè‡ªå·±çš„APIç«¯ç‚¹
   - `/api/posts` - è·å–æ‰€æœ‰æ–‡ç« 
   - `/api/posts/[id]` - è·å–å•ç¯‡æ–‡ç« 
   - `/api/views` - ç®¡ç†æ–‡ç« æµè§ˆé‡

2. **åŠ¨æ€è·¯ç”±** ğŸ›£ï¸
   - ä½¿ç”¨`[id]`åˆ›å»ºåŠ¨æ€è·¯ç”±ï¼Œå¯ä»¥æ ¹æ®æ–‡ç« IDæ˜¾ç¤ºä¸åŒå†…å®¹

3. **TypeScriptç±»å‹å®‰å…¨** ğŸ›¡ï¸
   - ä½¿ç”¨æ¥å£å®šä¹‰æ•°æ®ç»“æ„ï¼Œå¦‚`PostMetadata`å’Œ`Post`æ¥å£

4. **å“åº”å¼è®¾è®¡** ğŸ“±
   - ä½¿ç”¨Tailwind CSSå®ç°å“åº”å¼å¸ƒå±€ï¼Œåœ¨ä¸åŒè®¾å¤‡ä¸Šéƒ½èƒ½è‰¯å¥½æ˜¾ç¤º

5. **é”™è¯¯å¤„ç†** âš ï¸
   - ä»£ç ä¸­åŒ…å«å®Œå–„çš„é”™è¯¯å¤„ç†ï¼Œå½“æ–‡ä»¶ä¸å­˜åœ¨æˆ–å¤„ç†å‡ºé”™æ—¶æä¾›å‹å¥½çš„åé¦ˆ

## ğŸŒˆ ç‰¹è‰²äº®ç‚¹
- å¹²å‡€ç°ä»£çš„UIè®¾è®¡ âœ¨
- å®Œå–„çš„é”™è¯¯å¤„ç† ğŸ›¡ï¸
- è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒï¼ˆåŠ è½½çŠ¶æ€ã€é”™è¯¯æç¤ºï¼‰ğŸ”„
- éŸ³ä¹èƒŒæ™¯å¢å¼ºç”¨æˆ·ä½“éªŒ ğŸ§
- å“åº”å¼è®¾è®¡é€‚é…å„ç§è®¾å¤‡ ğŸ“²

## ğŸš€ å¼€å§‹ä½¿ç”¨

é¦–å…ˆï¼Œè¿è¡Œå¼€å‘æœåŠ¡å™¨:

```bash
npm run dev
# æˆ–
yarn dev
# æˆ–
pnpm dev
# æˆ–
bun dev
```

åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ [http://localhost:3000](http://localhost:3000) æŸ¥çœ‹ç»“æœã€‚

ä½ å¯ä»¥é€šè¿‡ä¿®æ”¹ `app/page.tsx` æ¥å¼€å§‹ç¼–è¾‘é¡µé¢ã€‚å½“ä½ ç¼–è¾‘æ–‡ä»¶æ—¶ï¼Œé¡µé¢ä¼šè‡ªåŠ¨æ›´æ–°ã€‚

## ğŸ“ æ·»åŠ æ–°æ–‡ç« 

å¦‚æœä½ æƒ³æ·»åŠ æ–°æ–‡ç« ï¼Œåªéœ€åœ¨`Markdowns`ç›®å½•æ·»åŠ æ–°çš„`.md`æ–‡ä»¶ï¼Œç½‘ç«™ä¼šè‡ªåŠ¨åŠ è½½å¹¶æ˜¾ç¤ºï¼ğŸš€

æ–‡ç« æ ¼å¼ç¤ºä¾‹:

```markdown
---
title: 'æ–‡ç« æ ‡é¢˜'
date: '2023-01-01'
description: 'è¿™æ˜¯æ–‡ç« çš„ç®€çŸ­æè¿°'
tags: ['æ ‡ç­¾1', 'æ ‡ç­¾2']
---

è¿™é‡Œæ˜¯æ–‡ç« æ­£æ–‡å†…å®¹ï¼Œæ”¯æŒMarkdownæ ¼å¼...
```

## ğŸ“š äº†è§£æ›´å¤š

è¦äº†è§£æœ‰å…³ Next.js çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ä»¥ä¸‹èµ„æº:

- [Next.js æ–‡æ¡£](https://nextjs.org/docs) - äº†è§£ Next.js çš„åŠŸèƒ½å’Œ APIã€‚
- [å­¦ä¹  Next.js](https://nextjs.org/learn) - ä¸€ä¸ªäº¤äº’å¼çš„ Next.js æ•™ç¨‹ã€‚

ä½ å¯ä»¥æŸ¥çœ‹ [Next.js GitHub ä»“åº“](https://github.com/vercel/next.js) - æ¬¢è¿ä½ çš„åé¦ˆå’Œè´¡çŒ®!

## ğŸŒ éƒ¨ç½²åœ¨ Vercel

éƒ¨ç½² Next.js åº”ç”¨ç¨‹åºçš„æœ€ç®€å•æ–¹æ³•æ˜¯ä½¿ç”¨ [Vercel å¹³å°](https://vercel.com/new?utm_medium=default-template&filter=next.js&utm_source=create-next-app&utm_campaign=create-next-app-readme)ã€‚

æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ [Next.js éƒ¨ç½²æ–‡æ¡£](https://nextjs.org/docs/app/building-your-application/deploying)ã€‚
